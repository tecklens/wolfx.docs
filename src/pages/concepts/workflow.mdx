import {Callout} from 'nextra/components'

# Workflows

Here you learn all about workflows

In the Wolfx system, all notifications must be sent through a workflow. Each workflow contains various logic and steps (nodes) for the notifications to be sent to your users.

Workflows in Wolfx:
- Always have a unique `key` associated
- Are always executed for a single recipient at a time
- Contain all of the logic and templates for the notifications you send
- Can have recipient preferences attached
- Can be triggered via the API, an event, or on a schedule for a recipient

## Structure

Workflows serve as a detailed design for a message sending process within your system. They encapsulate the entire message flow and messaging rules. Here's where all the channels, filters, conditions, and actions are bundled into one singular entity.

<img style={{borderRadius: '0.5rem'}} src="/images/workflow-mental-model.png"/>

### Workflow Channels

Channels are categorized into various types, each of which is linked with at least one corresponding provider that can be tailored as needed:

- **Email** (examples include Sendgrid, Postmark)
- **In-App** (such as feeds, toasts, banners)
- **Push** (such as APNS, FCM)
- **SMS** (examples include Twilio, Telnyx)
- **Chat** (such as Slack, Microsoft Teams, and Discord)
- **Webhook** (used to send webhooks to custom channels or enable your customers to configure webhooks within your product)

### Running workflows

Workflows defined in Wolfx are executed via 'trigger', which starts a workflow run for the recipients specified using the `targets` passed to the workflow trigger.

<Callout emoji="ðŸ’¡">
  Note: The execution process of a job always involves a single recipient. The number of requests per
  month is calculated for each recipient. A workflow can send out to multiple recipients at the same time, with
  the number of requests in a month based on your budget. You will subtract the number of recipients from your
  budget.
</Callout>

### Variables in workflow

Variables in a workflow are defined to be used as templates for sending users. Variables are defined with keys, and their values are retrieved from default values of the workflow or overridden from the `overrides` field in the API trigger.

<img style={{borderRadius: '0.5rem'}} src="/images/workflow-mental-model.png"/>

#### Triggering a workflow
In Wolfx, workflows can be triggered in two different ways::

- **API call**: workflows can be triggered directly via an API call to our workflow trigger endpoint. This is the most common form of integration and means that Wolfx is integrated into your backend codebase, usually alongside your application logic.
- **Schedules**: workflows can be scheduled to be run for one or more recipients, in a recipient's local timezone on a one-off, or recurring basis.

## FAQ
